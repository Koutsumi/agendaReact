(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(2015)}])},2015:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var n=s(5893),l=s(7294),a=s(6257),r=s(5503),c=s(7702),i=s(3454);s(9738).config();let o={apiKey:"".concat(i.env.API_KEY),authDomain:"".concat(i.env.AUTH_DOMAIN),databaseURL:"".concat(i.env.DATABASE_URL),projectId:"projeto-testecrud",storageBucket:"".concat(i.env.STORAGE_BUCKET),messagingSenderId:"".concat(i.env.MESSAGING_SENDER_ID),appId:"".concat(i.env.APP_ID)},x=(0,r.ZF)(o);(0,c.v0)();var d=(0,a.ad)(x);function u(){let[e,t]=(0,l.useState)(),[s,r]=(0,l.useState)(),[c,i]=(0,l.useState)(),[o,x]=(0,l.useState)();async function u(n){n.preventDefault(),await (0,a.ET)((0,a.hJ)(d,"cliente"),{name:e,email:s,phone:c,message:o,createdAt:(0,a.Bt)(),updatedAt:(0,a.Bt)()}),t(""),r(""),i(""),x("")}return console.log(e,s,c,o),(0,n.jsx)("section",{className:"rounded w-[90%] md:w-[50%] h-[500px] my-4 flex flex-col items-center justify-center bg-blue-100",children:(0,n.jsxs)("div",{className:"w-[90%] max-w-5xl flex flex-col items-center justify-center",children:[(0,n.jsx)("h2",{className:"text-white text-2xl my-4",children:"Cadastre seu contato!"}),(0,n.jsxs)("form",{onSubmit:u,action:"",className:"w-full my-[1rem] flex flex-col items-center justify-center",children:[(0,n.jsx)("input",{onChange:e=>t(e.target.value),value:e,className:"md:w-[320px] w-[90%] h-8 px-1 my-2 rounded",type:"text",placeholder:"Nome"}),(0,n.jsx)("input",{onChange:e=>r(e.target.value),value:s,className:"md:w-[320px] w-[90%] h-8 px-1 my-2 rounded",type:"email",placeholder:"E-mail"}),(0,n.jsx)("input",{onChange:e=>i(e.target.value),value:c,className:"md:w-[320px] w-[90%] h-8 px-1 my-2 rounded",type:"tel",placeholder:"Celular"}),(0,n.jsx)("textarea",{onChange:e=>x(e.target.value),value:o,className:"resize-none md:w-[320px] w-[90%] h-8 px-1 my-2 rounded",placeholder:"Mensagem",name:"",id:""}),(0,n.jsx)("button",{className:"w-[120px] h-7 bg-green-100 rounded text-white mt-4 hover:bg-white hover:text-green-100 transition-colors",type:"submit",children:"Salvar"})]})]})})}function m(){return(0,n.jsx)("header",{})}function h(){return(0,n.jsx)("footer",{})}function p(){let[e,t]=(0,l.useState)([]),[s,r]=(0,l.useState)([]),[c,i]=(0,l.useState)(!1),[o,x]=(0,l.useState)(!1),[u,m]=(0,l.useState)(),[h,p]=(0,l.useState)(),[f,w]=(0,l.useState)(),[j,g]=(0,l.useState)(),[v,b]=(0,l.useState)(),y=(0,a.hJ)(d,"cliente");async function N(e){try{let t=(0,a.JU)(y,e.id);await (0,a.oe)(t)}catch(s){console.log("Erro ao excluir cliente")}}function E(e){b(e.id),m(e.name),p(e.email),w(e.phone),g(e.message)}async function S(e){e.preventDefault();let t=(0,a.JU)(y,v);await (0,a.r7)(t,{name:u,email:h,phone:f,message:j,updatedAt:(0,a.Bt)()}),x(!1)}return(0,l.useEffect)(()=>{let e=(0,a.cf)(y,s=>{let n=[];return s.forEach(e=>{n.push({id:e.id,...e.data()}),console.log(n)}),t(n),()=>{e()}})},[]),(0,n.jsxs)("section",{className:" h-[500px] w-[90%] my-4 md:w-[50%] flex flex-col items-center justify-center ",children:[(0,n.jsx)("div",{className:"w-[90%] flex flex-row items-center justify-between",children:(0,n.jsx)("input",{onChange:function(t){let s=t.target.value;console.log(s),s.length>0?i(!0):i(!1);let n=[];e.map(e=>{let s=RegExp(t.target.value,"gi");s.test(e.name)&&n.push(e)}),r(n)},className:" md:w-[100%] w-[100%] h-8 px-1 my-2 rounded",type:"text",placeholder:"Pesquisar por: "})}),(0,n.jsx)("div",{className:"h-[450px] overflow-auto w-[90%] max-w-5xl flex flex-col items-center justify-start bg-green-100 rounded",children:c?s.map(e=>(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"bg-blue-100 w-[90%] p-3 text-white rounded my-4",children:[(0,n.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,n.jsx)("p",{className:"w-[70%] font-bold text-2xl",children:e.name}),(0,n.jsxs)("div",{className:"min-w-[30%] flex flex-row items-center justify-between",children:[(0,n.jsx)("button",{onClick(){x(!o),E(e)},className:" rounded px-[5px] hover:bg-green-100 bg-white text-blue-100 hover:text-white",children:"Editar"}),(0,n.jsx)("button",{onClick:()=>N(e),className:"rounded px-[5px] hover:bg-red-600 bg-white text-blue-100 hover:text-white",children:"Excluir"})]})]}),(0,n.jsxs)("p",{children:["Telefone: ",e.phone]}),(0,n.jsxs)("p",{children:["E-mail: ",e.email]}),(0,n.jsxs)("p",{children:["OBS.: ",e.message]}),(0,n.jsxs)("p",{className:"hidden",children:["ID: ",e.id]})]},e.id)})):e.map((e,t)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"bg-blue-100 w-[90%] p-3 text-white rounded my-4",children:[(0,n.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,n.jsx)("p",{className:"w-[70%] font-bold text-2xl",children:e.name}),(0,n.jsxs)("div",{className:"min-w-[30%] flex flex-row items-center justify-between",children:[(0,n.jsx)("button",{onClick(){x(!o),E(e)},className:" rounded px-[5px] hover:bg-green-100 bg-white text-blue-100 hover:text-white",children:"Editar"}),(0,n.jsx)("button",{onClick:()=>N(e),className:"rounded px-[5px] hover:bg-red-600 bg-white text-blue-100 hover:text-white",children:"Excluir"})]})]}),(0,n.jsxs)("p",{children:["Telefone: ",e.phone]}),(0,n.jsxs)("p",{children:["E-mail: ",e.email]}),(0,n.jsxs)("p",{children:["OBS.: ",e.message]})]},e.id),(0,n.jsx)("section",{className:o?"absolute top-[41rem] md:top-[7rem] h-[350px] w-[85%] md:w-[350px] flex flex-col items-center justify-start bg-blue-900 rounded":"hidden",children:(0,n.jsxs)("div",{className:"w-[90%] max-w-5xl flex flex-col items-center justify-center",children:[(0,n.jsxs)("div",{className:"w-[90%] flex flex-row items-center justify-between",children:[(0,n.jsx)("h2",{className:"text-white text-2xl my-4",children:"Editar contato"}),(0,n.jsx)("p",{onClick(){x(!o)},className:"cursor-pointer text-white text-1xl my-4",children:"X"})]}),(0,n.jsxs)("form",{onSubmit:S,className:"w-full my-[1rem] flex flex-col items-center justify-center",children:[(0,n.jsx)("input",{onChange:e=>m(e.target.value),value:u||"",className:"md:w-[320px] w-[90%] h-8 px-1 my-2 rounded",type:"text",placeholder:"Nome"}),(0,n.jsx)("input",{onChange:e=>w(e.target.value),value:h||"",className:"md:w-[320px] w-[90%] h-8 px-1 my-2 rounded",type:"email",placeholder:"E-mail"}),(0,n.jsx)("input",{onChange:e=>p(e.target.value),value:f||"",className:"md:w-[320px] w-[90%] h-8 px-1 my-2 rounded",type:"tel",placeholder:"Celular"}),(0,n.jsx)("textarea",{onChange:e=>g(e.target.value),value:j||"",className:"resize-none md:w-[320px] w-[90%] h-8 px-1 my-2 rounded",placeholder:"Mensagem"}),(0,n.jsx)("button",{className:"w-[120px] h-7 bg-green-100 rounded text-white mt-4 hover:bg-white hover:text-green-100 transition-colors",type:"submit",children:"Editar"})]})]})})]}))})]})}function f(){return(0,n.jsxs)("div",{className:"w-full flex flex-col items-center justify-center min-h-[100vh] bg-black-100",children:[(0,n.jsx)(m,{}),(0,n.jsxs)("main",{className:"w-full max-w-5xl md:flex md:flex-row md:items-center md:justify-between flex flex-col items-center justify-center",children:[(0,n.jsx)(u,{}),(0,n.jsx)(p,{})]}),(0,n.jsx)(h,{})]})}},6647:function(){}},function(e){e.O(0,[16,590,883,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);